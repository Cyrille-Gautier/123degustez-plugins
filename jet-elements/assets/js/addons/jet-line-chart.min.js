!function(t){"use strict";window.widgetLineChart=function(e){var a=e.data("id"),o=e.find(".jet-line-chart-container"),i=o.find(".jet-line-chart"),s=o.data("compare"),d=o.data("previous-label"),n=o.data("current-label"),l=o.data("settings"),r=o.data("compare-labels-type"),c=o.data("tooltip-prefix")||"",p=o.data("tooltip-suffix")||"",f=o.data("tooltip-separator")||"";o.length&&JetElements.observer(i,function(){var e=t(this)[0].getContext("2d"),o=new Chart(e,l);o.options.tooltips={enabled:!1,mode:"x-axis",intersect:!1,callbacks:{label:function(t,e){var a=e.datasets[t.datasetIndex].borderColor;if(a=a.replace(/"/g,'"'),!0===s){var o="custom"===r?n:e.labels[t.index],i=e.datasets[t.datasetIndex].label,l=""!=f?JetElementsTools.addThousandCommaSeparator(e.datasets[t.datasetIndex].data[t.index],f):e.datasets[t.datasetIndex].data[t.index],h='<div class="jet-line-chart-tooltip-compare-current">'+o+" : "+c+l+p+"</div>",v="",y=(y=e.datasets[t.datasetIndex].borderColor).replace(/"/g,'"');if(void 0!==e.labels[t.index-1]&&null!==e.labels[t.index-1]){var u="custom"===r?d:e.labels[t.index-1],x=""!=f?JetElementsTools.addThousandCommaSeparator(e.datasets[t.datasetIndex].data[t.index-1],f):e.datasets[t.datasetIndex].data[t.index-1];v='<div class="jet-line-chart-tooltip-compare-previous">'+u+" : "+c+x+p+"</div>"}return'<div class="jet-line-chart-tooltip-title"><span class="jet-line-chart-tooltip-color-box" style="background:'+y+'"></span>'+i+'</div><div class="jet-line-chart-tooltip-body">'+h+v+"</div>"}var m=e.datasets[t.datasetIndex].label,b=""!=f?JetElementsTools.addThousandCommaSeparator(e.datasets[t.datasetIndex].data[t.index],f):e.datasets[t.datasetIndex].data[t.index];return'<div class="jet-line-chart-tooltip-body"><span class="jet-line-chart-tooltip-color-box" style="background:'+a+'"></span>'+m+" : "+c+b+p+"</div>"}},custom:function(t){var e=document.getElementById("chartjs-tooltip_"+a);if(e||((e=document.createElement("div")).id="chartjs-tooltip_"+a,e.innerHTML='<div class="jet-line-chart-tooltip"></div>',document.body.appendChild(e)),0!==t.opacity){if(e.classList.remove("above","below","no-transform"),t.yAlign?e.classList.add(t.yAlign):e.classList.add("no-transform"),t.body){t.title;var o=t.body.map(function(t){return t.lines}),i="";i+='<div class="jet-line-chart-tooltip-wrapper">',o.forEach(function(t,e){i+=t}),i+="</div>",e.querySelector("div").innerHTML=i}var s=this,d=this._chart.canvas.getBoundingClientRect(),n=e.offsetWidth,l=e.offsetHeight,r=0,c=0;setTimeout(function(){n=e.offsetWidth,l=e.offsetHeight,r=s._chart.width/2>s._chart.tooltip._eventPosition.x?0:-n,c=s._chart.height/2>s._chart.tooltip._eventPosition.y?0:-l,e.style.left=d.left+window.pageXOffset+t.caretX+r+"px",e.style.top=d.top+window.pageYOffset+t.caretY+c+"px",e.style.opacity=1},10),e.style.position="absolute",e.style.fontFamily=t._bodyFontFamily,e.style.fontSize=t.bodyFontSize+"px",e.style.fontStyle=t._bodyFontStyle,e.style.padding=t.yPadding+"px "+t.xPadding+"px",e.style.pointerEvents="none"}else e.style.opacity=0}},o.update()},JetElements.prepareWaypointOptions(e,{offset:"bottom-in-view"}))}}(jQuery);