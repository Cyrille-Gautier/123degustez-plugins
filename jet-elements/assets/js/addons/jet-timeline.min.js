!function(e){"use strict";class o{constructor(o){var t=this,i=o.closest(".jet-popup__container-inner, .elementor-popup-modal .dialog-message"),n=!!i[0],s=n?i:e(window),l=n?s.offset().top-e(window).scrollTop():0,r=o.find(".jet-timeline__line"),a=r.find(".jet-timeline__line-progress"),f=o.find(".jet-timeline-item"),d=o.find(".timeline-item__point"),c=s.scrollTop(),p=-1,m=s.height(),u=n?s.outerHeight():window.innerHeight,w=!1;t.onScroll=function(){c=s.scrollTop(),l=n?s.offset().top-e(window).scrollTop():0,t.updateFrame(),t.animateCards()},t.onResize=function(){c=s.scrollTop(),m=s.height(),l=n?s.offset().top-e(window).scrollTop():0,t.updateFrame()},t.updateWindow=function(){w=!1,r.css({top:f.first().find(d).offset().top-f.first().offset().top,bottom:o.offset().top+o.outerHeight()-f.last().find(d).offset().top}),p!==c&&(p=c,m,t.updateProgress())},t.updateProgress=function(){var o=f.last().find(d).offset().top,t=n?o+c-l-e(window).scrollTop():o,i=n?a.offset().top+c-l-e(window).scrollTop():a.offset().top,s=c-i+u/2;t<=c+u/2&&(s=t-i),a.css({height:s+"px"}),f.each(function(){var o=e(this).find(d).offset().top;(o=n?o+c-l-e(window).scrollTop():o)<c+.5*u?e(this).addClass("is--active"):e(this).removeClass("is--active")})},t.updateFrame=function(){w||requestAnimationFrame(t.updateWindow),w=!0},t.animateCards=function(){f.each(function(){var o=e(this).offset().top;(o=n?o+c-l-e(window).scrollTop():o)<=c+.9*u&&e(this).hasClass("jet-timeline-item--animated")&&e(this).addClass("is--show")})},t.init=function(){e(document).ready(t.onScroll),s.on("scroll.jetTimeline",t.onScroll),e(window).on("resize.jetTimeline orientationchange.jetTimeline",JetElementsTools.debounce(50,t.onResize))}}}window.widgetTimeLine=function(e){var t=e.find(".jet-timeline");t.length&&new o(t).init()}}(jQuery);