!function(e){"use strict";class t{constructor(t,o){var i,a=this,s=t,l=e(".jet-portfolio__list",s),n=e(".jet-portfolio__item",s),r=e(".jet-portfolio__filter-item",s),d=e(".jet-portfolio__view-more",s),u=e(".jet-portfolio__view-more-button",s),c=u[0],m={},f={},g="all",v=JetElementsTools.isRTL(),h=Boolean(elementorFrontend.isEditMode()),p={itemSelector:".jet-portfolio__item",percentPosition:!0,isOriginLeft:!0!==v};o=e.extend({layoutType:"masonry",columns:3,perPage:6},o);a.init=function(){a.layoutBuild(),h&&i.get(0)&&e(window).on("resize",JetElementsTools.debounce(50,function(){i.masonry("layout")}))},a.layoutBuild=function(){if(a.generateData(),r.data("showItems",c?o.perPage:"all"),"justify"===o.layoutType&&(p.columnWidth=".grid-sizer"),"masonry"!==o.layoutType&&"justify"!==o.layoutType||(i=l.masonry(p)),e.isFunction(e.fn.imagesLoaded))e(".jet-portfolio__image",n).imagesLoaded().progress(function(t,o){var a=e(o.img).closest(".jet-portfolio__item");e(".jet-portfolio__image-loader",a).remove(),a.addClass("item-loaded"),i&&i.masonry("layout")});else{var t=e(".jet-portfolio__image-loader",n);n.addClass("item-loaded"),t.remove()}r.on("click.jetPortfolio",a.filterHandler),u.on("click.jetPortfolio",a.moreButtonHandler),a.render(),a.checkMoreButton()},a.generateData=function(){r[0]?r.each(function(){var t=e(this).data("slug");f[t]="all"===t}):f.all=!0,n.each(function(t){var o=e(this),i=o.data("slug");m[t]={selector:o,slug:i,visible:o.hasClass("visible-status"),more:o.hasClass("hidden-status"),lightboxEnabled:"yes"===o.find(".jet-portfolio__link").data("elementor-open-lightbox")}})},a.filterHandler=function(t){t.preventDefault();var o=e(this),i=1,s=o.data("slug"),l=o.data("showItems");for(var n in r.removeClass("active"),o.addClass("active"),f)f[n]=n===s,n===s&&(g=n);e.each(m,function(e,t){var o=!1;"all"===l?a.isItemVisible(t.slug)&&!t.more&&(o=!0):a.isItemVisible(t.slug)&&(i<=l?(o=!0,t.more=!1):t.more=!0,i++),t.visible=o}),a.render(),a.checkMoreButton()},a.moreButtonHandler=function(){var t,i=1,l=e(".jet-portfolio__filter-item.active",s);e.each(m,function(e,t){a.isItemVisible(t.slug)&&t.more&&i<=o.perPage&&(t.more=!1,t.visible=!0,i++)}),l[0]&&(t=l.data("showItems"),l.data("showItems",t+i-1)),a.render(),a.checkMoreButton()},a.checkMoreButton=function(){var t=!1;e.each(m,function(e,o){a.isItemVisible(o.slug)&&o.more&&(t=!0)}),d.toggleClass("hidden-status",!t)},a.isItemVisible=function(e){var t=JetElementsTools.getObjectValues(e);for(var o in f)if(f[o]&&-1!==t.indexOf(o))return!0;return!1},a.render=function(){n.removeClass("visible-status hidden-status"),e.each(m,function(t,i){var a=e(".jet-portfolio__inner",i.selector),s=e(".jet-portfolio__link",i.selector),l=o.id+"-"+g;i.visible?(i.selector.addClass("visible-status"),i.lightboxEnabled&&s[0].setAttribute("data-elementor-lightbox-slideshow",l),anime({targets:a[0],opacity:{value:1,duration:400},scale:{value:1,duration:500,easing:"easeOutExpo"},delay:50,elasticity:!1})):(i.selector.addClass("hidden-status"),s[0].removeAttribute("data-elementor-lightbox-slideshow"),anime({targets:a[0],opacity:0,scale:0,duration:500,elasticity:!1}))}),i&&i.masonry("layout")}}}window.widgetPortfolio=function(o){var i=o.find(".jet-portfolio"),a=JetElementsTools.getElementorElementSettings(o),s={id:o.data("id")};i.length&&(s=e.extend({},s,i.data("settings"),a),new t(i,s).init())}}(jQuery);