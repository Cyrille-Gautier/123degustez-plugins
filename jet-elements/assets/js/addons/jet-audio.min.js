!function(e){"use strict";window.widgetAudio=function(o){!function(o){var t,n=o.find(".jet-audio"),i=o.find(".jet-audio-player"),u=n.data("audio-settings"),l=0,a=!1;i[0]&&(t=u.startVolume||.8,u.controls.map(function(e){"volume"===e&&(a=!0)}),i.each(function(){e(this).hasClass("mejs-container")||(e(this).mediaelementplayer({features:u.controls||["playpause","current","progress","duration","volume"],audioVolume:u.audioVolume||"horizontal",startVolume:t,hideVolumeOnTouchDevices:u.hideVolumeOnTouchDevices,enableProgressTooltip:!1,success:function(e){var n=o.find(".mejs-button button");e.addEventListener("timeupdate",function(e){var t=o.find(".mejs-time-current"),n=t.attr("style");if(n){var i=n.match(/scaleX\([0-9.]*\)/gi)[0].replace("scaleX(","").replace(")","");i&&t.css("width",100*i+"%")}},!1),a&&"yes"===u.hasVolumeBar&&!u.hideVolumeOnTouchDevices?(e.setVolume(t),e.addEventListener("volumechange",function(){var i="horizontal"===u.audioVolume?o.find(".mejs-horizontal-volume-current"):o.find(".mejs-volume-current"),a="horizontal"===u.audioVolume?parseInt(i[0].style.width,10)/100:parseInt(i[0].style.height,10)/100,s="horizontal"===u.audioVolume?o.find(".mejs-horizontal-volume-total"):o.find(".mejs-volume-slider .mejs-volume-total"),r=o.find(".mejs-playpause-button"),m="";s.on("click",function(){m="horizontal"===u.audioVolume?parseInt(o.find(".mejs-horizontal-volume-total .mejs-horizontal-volume-current")[0].style.width,10)/100:parseInt(o.find(".mejs-volume-slider .mejs-volume-total .mejs-volume-current")[0].style.height,10)/100}),r.on("click",function(){""!==m&&e.setVolume(m)}),n.on("click",function(){e.muted||"yes"===u.muted&&0===l&&0===a&&(e.setVolume(t),l=1)})},!1)):a&&!u.hideVolumeOnTouchDevices&&n.on("click",function(){e.setVolume(t)})}}),e(this).attr("preload","metadata"))}))}(o)}}(jQuery);